import{r as a,s as hn,l as He,o as P,U as Ke,y as qe,u as Ie,a as qn,h as Gn,T as Qn,p as ct,R as U,b as Jn,c as _n,x as Zn,d as er,C as Ge,I as gt,e as tr,f as Ot,g as nr,i as rr,j as ut,k as or,m as sr,n as ir,q as ar,t as Z,v as W,w as lr,O as Zt,z as ze,A as y,B as Mt,D as pn,E as cr,F as ur,G as rt,_ as ot}from"./index-DCxQT9AF.js";import{f as dr}from"./format-CUpG5mvb.js";function gn(e,t){let[n,r]=a.useState(e),o=hn(e);return He(()=>r(o.current),[o,r,...t]),n}function fr(e,t,n){let[r,o]=a.useState(n),s=e!==void 0,i=a.useRef(s),l=a.useRef(!1),c=a.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,P(u=>(s||o(u),t==null?void 0:t(u)))]}function vn(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))xn(n,bn(t,r),o);return n}function bn(e,t){return e?e+"["+t+"]":t}function xn(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())xn(e,bn(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):vn(n,t,e)}var hr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hr||{}),pr=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(pr||{}),gr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(gr||{}),vr=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(vr||{});function Rt(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ar(t(e.options.slice()),s=>s.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let br={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Rt(e),o=ir(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var l;return!i.dataRef.current.disabled&&((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),s=o?e.options.indexOf(o):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Rt(e,o=>[...o,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=Rt(e,r=>{let o=r.findIndex(s=>s.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},At=a.createContext(null);At.displayName="ListboxActionsContext";function Qe(e){let t=a.useContext(At);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qe),n}return t}let jt=a.createContext(null);jt.displayName="ListboxDataContext";function Je(e){let t=a.useContext(jt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return t}function xr(e,t){return Ie(t.type,br,e,t)}let mr=a.Fragment;function yr(e,t){let{value:n,defaultValue:r,form:o,name:s,onChange:i,by:l=(O,T)=>O===T,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...f}=e;const m=u?"horizontal":"vertical";let p=qe(t),[S=d?[]:void 0,g]=fr(n,i,r),[b,h]=a.useReducer(xr,{dataRef:a.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),R=a.useRef({static:!1,hold:!1}),v=a.useRef(null),C=a.useRef(null),E=a.useRef(null),w=P(typeof l=="string"?(O,T)=>{let N=l;return(O==null?void 0:O[N])===(T==null?void 0:T[N])}:l),D=a.useCallback(O=>Ie(x.mode,{1:()=>S.some(T=>w(T,O)),0:()=>w(S,O)}),[S]),x=a.useMemo(()=>({...b,value:S,disabled:c,mode:d?1:0,orientation:m,compare:w,isSelected:D,optionsPropsRef:R,labelRef:v,buttonRef:C,optionsRef:E}),[S,c,d,b]);He(()=>{b.dataRef.current=x},[x]),qn([x.buttonRef,x.optionsRef],(O,T)=>{var N;h({type:1}),Gn(T,Qn.Loose)||(O.preventDefault(),(N=x.buttonRef.current)==null||N.focus())},x.listboxState===0);let A=a.useMemo(()=>({open:x.listboxState===0,disabled:c,value:S}),[x,c,S]),L=P(O=>{let T=x.options.find(N=>N.id===O);T&&j(T.dataRef.current.value)}),k=P(()=>{if(x.activeOptionIndex!==null){let{dataRef:O,id:T}=x.options[x.activeOptionIndex];j(O.current.value),h({type:2,focus:Z.Specific,id:T})}}),X=P(()=>h({type:0})),$=P(()=>h({type:1})),K=P((O,T,N)=>O===Z.Specific?h({type:2,focus:Z.Specific,id:T,trigger:N}):h({type:2,focus:O,trigger:N})),Y=P((O,T)=>(h({type:5,id:O,dataRef:T}),()=>h({type:6,id:O}))),ee=P(O=>(h({type:7,id:O}),()=>h({type:7,id:null}))),j=P(O=>Ie(x.mode,{0(){return g==null?void 0:g(O)},1(){let T=x.value.slice(),N=T.findIndex(ue=>w(ue,O));return N===-1?T.push(O):T.splice(N,1),g==null?void 0:g(T)}})),ye=P(O=>h({type:3,value:O})),G=P(()=>h({type:4})),we=a.useMemo(()=>({onChange:j,registerOption:Y,registerLabel:ee,goToOption:K,closeListbox:$,openListbox:X,selectActiveOption:k,selectOption:L,search:ye,clearSearch:G}),[]),Re={ref:p},F=a.useRef(null),re=ct();return a.useEffect(()=>{F.current&&r!==void 0&&re.addEventListener(F.current,"reset",()=>{g==null||g(r)})},[F,g]),U.createElement(At.Provider,{value:we},U.createElement(jt.Provider,{value:x},U.createElement(Jn,{value:Ie(x.listboxState,{0:ut.Open,1:ut.Closed})},s!=null&&S!=null&&vn({[s]:S}).map(([O,T],N)=>U.createElement(_n,{features:er.Hidden,ref:N===0?ue=>{var oe;F.current=(oe=ue==null?void 0:ue.closest("form"))!=null?oe:null}:void 0,...Zn({key:O,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:O,value:T})})),Ge({ourProps:Re,theirProps:f,slot:A,defaultTag:mr,name:"Listbox"}))))}let wr="button";function Rr(e,t){var n;let r=gt(),{id:o=`headlessui-listbox-button-${r}`,...s}=e,i=Je("Listbox.Button"),l=Qe("Listbox.Button"),c=qe(i.buttonRef,t),u=ct(),d=P(b=>{switch(b.key){case W.Space:case W.Enter:case W.ArrowDown:b.preventDefault(),l.openListbox(),u.nextFrame(()=>{i.value||l.goToOption(Z.First)});break;case W.ArrowUp:b.preventDefault(),l.openListbox(),u.nextFrame(()=>{i.value||l.goToOption(Z.Last)});break}}),f=P(b=>{switch(b.key){case W.Space:b.preventDefault();break}}),m=P(b=>{if(lr(b.currentTarget))return b.preventDefault();i.listboxState===0?(l.closeListbox(),u.nextFrame(()=>{var h;return(h=i.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})})):(b.preventDefault(),l.openListbox())}),p=gn(()=>{if(i.labelId)return[i.labelId,o].join(" ")},[i.labelId,o]),S=a.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),g={ref:c,id:o,type:sr(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.listboxState===0,"aria-labelledby":p,disabled:i.disabled,onKeyDown:d,onKeyUp:f,onClick:m};return Ge({ourProps:g,theirProps:s,slot:S,defaultTag:wr,name:"Listbox.Button"})}let Sr="label";function Dr(e,t){let n=gt(),{id:r=`headlessui-listbox-label-${n}`,...o}=e,s=Je("Listbox.Label"),i=Qe("Listbox.Label"),l=qe(s.labelRef,t);He(()=>i.registerLabel(r),[r]);let c=P(()=>{var d;return(d=s.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=a.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return Ge({ourProps:{ref:l,id:r,onClick:c},theirProps:o,slot:u,defaultTag:Sr,name:"Listbox.Label"})}let Cr="ul",Er=Zt.RenderStrategy|Zt.Static;function Or(e,t){var n;let r=gt(),{id:o=`headlessui-listbox-options-${r}`,...s}=e,i=Je("Listbox.Options"),l=Qe("Listbox.Options"),c=qe(i.optionsRef,t),u=ct(),d=ct(),f=rr(),m=f!==null?(f&ut.Open)===ut.Open:i.listboxState===0;a.useEffect(()=>{var h;let R=i.optionsRef.current;R&&i.listboxState===0&&R!==((h=or(R))==null?void 0:h.activeElement)&&R.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let p=P(h=>{switch(d.dispose(),h.key){case W.Space:if(i.searchQuery!=="")return h.preventDefault(),h.stopPropagation(),l.search(h.key);case W.Enter:if(h.preventDefault(),h.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:R}=i.options[i.activeOptionIndex];l.onChange(R.current.value)}i.mode===0&&(l.closeListbox(),Ot().nextFrame(()=>{var R;return(R=i.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})}));break;case Ie(i.orientation,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return h.preventDefault(),h.stopPropagation(),l.goToOption(Z.Next);case Ie(i.orientation,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return h.preventDefault(),h.stopPropagation(),l.goToOption(Z.Previous);case W.Home:case W.PageUp:return h.preventDefault(),h.stopPropagation(),l.goToOption(Z.First);case W.End:case W.PageDown:return h.preventDefault(),h.stopPropagation(),l.goToOption(Z.Last);case W.Escape:return h.preventDefault(),h.stopPropagation(),l.closeListbox(),u.nextFrame(()=>{var R;return(R=i.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});case W.Tab:h.preventDefault(),h.stopPropagation();break;default:h.key.length===1&&(l.search(h.key),d.setTimeout(()=>l.clearSearch(),350));break}}),S=gn(()=>{var h;return(h=i.buttonRef.current)==null?void 0:h.id},[i.buttonRef.current]),g=a.useMemo(()=>({open:i.listboxState===0}),[i]),b={"aria-activedescendant":i.activeOptionIndex===null||(n=i.options[i.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":S,"aria-orientation":i.orientation,id:o,onKeyDown:p,role:"listbox",tabIndex:0,ref:c};return Ge({ourProps:b,theirProps:s,slot:g,defaultTag:Cr,features:Er,visible:m,name:"Listbox.Options"})}let kr="li";function Ir(e,t){let n=gt(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:s,...i}=e,l=Je("Listbox.Option"),c=Qe("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,d=l.isSelected(s),f=a.useRef(null),m=tr(f),p=hn({disabled:o,value:s,domRef:f,get textValue(){return m()}}),S=qe(t,f);He(()=>{if(l.listboxState!==0||!u||l.activationTrigger===0)return;let w=Ot();return w.requestAnimationFrame(()=>{var D,x;(x=(D=f.current)==null?void 0:D.scrollIntoView)==null||x.call(D,{block:"nearest"})}),w.dispose},[f,u,l.listboxState,l.activationTrigger,l.activeOptionIndex]),He(()=>c.registerOption(r,p),[p,r]);let g=P(w=>{if(o)return w.preventDefault();c.onChange(s),l.mode===0&&(c.closeListbox(),Ot().nextFrame(()=>{var D;return(D=l.buttonRef.current)==null?void 0:D.focus({preventScroll:!0})}))}),b=P(()=>{if(o)return c.goToOption(Z.Nothing);c.goToOption(Z.Specific,r)}),h=nr(),R=P(w=>h.update(w)),v=P(w=>{h.wasMoved(w)&&(o||u||c.goToOption(Z.Specific,r,0))}),C=P(w=>{h.wasMoved(w)&&(o||u&&c.goToOption(Z.Nothing))}),E=a.useMemo(()=>({active:u,selected:d,disabled:o}),[u,d,o]);return Ge({ourProps:{id:r,ref:S,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:g,onFocus:b,onPointerEnter:R,onMouseEnter:R,onPointerMove:v,onMouseMove:v,onPointerLeave:C,onMouseLeave:C},theirProps:i,slot:E,defaultTag:kr,name:"Listbox.Option"})}let Tr=Ke(yr),Lr=Ke(Rr),Nr=Ke(Dr),Mr=Ke(Or),Ar=Ke(Ir),st=Object.assign(Tr,{Button:Lr,Label:Nr,Options:Mr,Option:Ar});function jr({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Pr=a.forwardRef(jr);function $r({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Fr=a.forwardRef($r);function zr({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Br=a.forwardRef(zr);function Ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Le(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Pt(e){return"nodeType"in e}function q(e){var t,n;return e?Le(e)?e:Pt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $t(e){const{Document:t}=q(e);return e instanceof t}function _e(e){return Le(e)?!1:e instanceof q(e).HTMLElement}function mn(e){return e instanceof q(e).SVGElement}function Ne(e){return e?Le(e)?e.document:Pt(e)?$t(e)?e:_e(e)||mn(e)?e.ownerDocument:document:document:document}const ce=vt?a.useLayoutEffect:a.useEffect;function Ft(e){const t=a.useRef(e);return ce(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Xr(){const e=a.useRef(null),t=a.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=a.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function We(e,t){t===void 0&&(t=[e]);const n=a.useRef(e);return ce(()=>{n.current!==e&&(n.current=e)},t),n}function Ze(e,t){const n=a.useRef();return a.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function dt(e){const t=Ft(e),n=a.useRef(null),r=a.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function kt(e){const t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}let St={};function et(e,t){return a.useMemo(()=>{if(t)return t;const n=St[e]==null?0:St[e]+1;return St[e]=n,e+"-"+n},[e,t])}function yn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+e*u)}return s},{...t})}}const Te=yn(1),ft=yn(-1);function Hr(e){return"clientX"in e&&"clientY"in e}function zt(e){if(!e)return!1;const{KeyboardEvent:t}=q(e.target);return t&&e instanceof t}function Wr(e){if(!e)return!1;const{TouchEvent:t}=q(e.target);return t&&e instanceof t}function It(e){if(Wr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Hr(e)?{x:e.clientX,y:e.clientY}:null}const Ye=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ye.Translate.toString(e),Ye.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),en="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Yr(e){return e.matches(en)?e:e.querySelector(en)}const Vr={display:"none"};function Kr(e){let{id:t,value:n}=e;return U.createElement("div",{id:t,style:Vr},n)}function qr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return U.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Gr(){const[e,t]=a.useState("");return{announce:a.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const wn=a.createContext(null);function Qr(e){const t=a.useContext(wn);a.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Jr(){const[e]=a.useState(()=>new Set),t=a.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[a.useCallback(r=>{let{type:o,event:s}=r;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,s)})},[e]),t]}const _r={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Zr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function eo(e){let{announcements:t=Zr,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=_r}=e;const{announce:s,announcement:i}=Gr(),l=et("DndLiveRegion"),[c,u]=a.useState(!1);if(a.useEffect(()=>{u(!0)},[]),Qr(a.useMemo(()=>({onDragStart(f){let{active:m}=f;s(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;t.onDragMove&&s(t.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;s(t.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;s(t.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;s(t.onDragCancel({active:m,over:p}))}}),[s,t])),!c)return null;const d=U.createElement(U.Fragment,null,U.createElement(Kr,{id:r,value:o.draggable}),U.createElement(qr,{id:l,announcement:i}));return n?ze.createPortal(d,n):d}var z;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(z||(z={}));function ht(){}function to(e,t){return a.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function no(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const se=Object.freeze({x:0,y:0});function ro(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function so(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function tn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function io(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const ao=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=tn(t),s=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const u=tn(c),d=o.reduce((m,p,S)=>m+ro(u[S],p),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:i,value:f}})}}return s.sort(oo)};function lo(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,l=s-n;if(r<o&&n<s){const c=t.width*t.height,u=e.width*e.height,d=i*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const co=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,l=n.get(i);if(l){const c=lo(l,t);c>0&&o.push({id:i,data:{droppableContainer:s,value:c}})}}return o.sort(so)};function uo(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Rn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:se}function fo(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const ho=fo(1);function po(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function go(e,t,n){const r=po(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:l}=r,c=e.left-i-(1-o)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const vo={ignoreTransform:!1};function Me(e,t){t===void 0&&(t=vo);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=q(e).getComputedStyle(e);u&&(n=go(n,u,d))}const{top:r,left:o,width:s,height:i,bottom:l,right:c}=n;return{top:r,left:o,width:s,height:i,bottom:l,right:c}}function nn(e){return Me(e,{ignoreTransform:!0})}function bo(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function xo(e,t){return t===void 0&&(t=q(e).getComputedStyle(e)),t.position==="fixed"}function mo(e,t){t===void 0&&(t=q(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Bt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if($t(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!_e(o)||mn(o)||n.includes(o))return n;const s=q(e).getComputedStyle(o);return o!==e&&mo(o,s)&&n.push(o),xo(o,s)?n:r(o.parentNode)}return e?r(e):n}function Sn(e){const[t]=Bt(e,1);return t??null}function Dt(e){return!vt||!e?null:Le(e)?e:Pt(e)?$t(e)||e===Ne(e).scrollingElement?window:_e(e)?e:null:null}function Dn(e){return Le(e)?e.scrollX:e.scrollLeft}function Cn(e){return Le(e)?e.scrollY:e.scrollTop}function Tt(e){return{x:Dn(e),y:Cn(e)}}var B;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(B||(B={}));function En(e){return!vt||!e?!1:e===document.scrollingElement}function On(e){const t={x:0,y:0},n=En(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const yo={x:.2,y:.2};function wo(e,t,n,r,o){let{top:s,left:i,right:l,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=yo);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=On(e),p={x:0,y:0},S={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&s<=t.top+g.height?(p.y=B.Backward,S.y=r*Math.abs((t.top+g.height-s)/g.height)):!d&&c>=t.bottom-g.height&&(p.y=B.Forward,S.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!m&&l>=t.right-g.width?(p.x=B.Forward,S.x=r*Math.abs((t.right-g.width-l)/g.width)):!f&&i<=t.left+g.width&&(p.x=B.Backward,S.x=r*Math.abs((t.left+g.width-i)/g.width)),{direction:p,speed:S}}function Ro(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function kn(e){return e.reduce((t,n)=>Te(t,Tt(n)),se)}function So(e){return e.reduce((t,n)=>t+Dn(n),0)}function Do(e){return e.reduce((t,n)=>t+Cn(n),0)}function Co(e,t){if(t===void 0&&(t=Me),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);Sn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Eo=[["x",["left","right"],So],["y",["top","bottom"],Do]];class Ut{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Bt(n),o=kn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,l]of Eo)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=o[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Be{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Oo(e){const{EventTarget:t}=q(e);return e instanceof t?e:Ne(e)}function Ct(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ne;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ne||(ne={}));function rn(e){e.preventDefault()}function ko(e){e.stopPropagation()}var I;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(I||(I={}));const In={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},Io=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case I.Right:return{...n,x:n.x+25};case I.Left:return{...n,x:n.x-25};case I.Down:return{...n,y:n.y+25};case I.Up:return{...n,y:n.y-25}}};class Tn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Be(Ne(n)),this.windowListeners=new Be(q(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ne.Resize,this.handleCancel),this.windowListeners.add(ne.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ne.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Co(r),n(se)}handleKeyDown(t){if(zt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=In,coordinateGetter:i=Io,scrollBehavior:l="smooth"}=o,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:se;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(t,{active:n,context:r.current,currentCoordinates:d});if(f){const m=ft(f,d),p={x:0,y:0},{scrollableAncestors:S}=r.current;for(const g of S){const b=t.code,{isTop:h,isRight:R,isLeft:v,isBottom:C,maxScroll:E,minScroll:w}=On(g),D=Ro(g),x={x:Math.min(b===I.Right?D.right-D.width/2:D.right,Math.max(b===I.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(b===I.Down?D.bottom-D.height/2:D.bottom,Math.max(b===I.Down?D.top:D.top+D.height/2,f.y))},A=b===I.Right&&!R||b===I.Left&&!v,L=b===I.Down&&!C||b===I.Up&&!h;if(A&&x.x!==f.x){const k=g.scrollLeft+m.x,X=b===I.Right&&k<=E.x||b===I.Left&&k>=w.x;if(X&&!m.y){g.scrollTo({left:k,behavior:l});return}X?p.x=g.scrollLeft-k:p.x=b===I.Right?g.scrollLeft-E.x:g.scrollLeft-w.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(L&&x.y!==f.y){const k=g.scrollTop+m.y,X=b===I.Down&&k<=E.y||b===I.Up&&k>=w.y;if(X&&!m.x){g.scrollTo({top:k,behavior:l});return}X?p.y=g.scrollTop-k:p.y=b===I.Down?g.scrollTop-E.y:g.scrollTop-w.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Te(ft(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Tn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=In,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function on(e){return!!(e&&"distance"in e)}function sn(e){return!!(e&&"delay"in e)}class Xt{constructor(t,n,r){var o;r===void 0&&(r=Oo(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=Ne(i),this.documentListeners=new Be(this.document),this.listeners=new Be(r),this.windowListeners=new Be(q(i)),this.initialCoordinates=(o=It(s))!=null?o:se,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ne.Resize,this.handleCancel),this.windowListeners.add(ne.DragStart,rn),this.windowListeners.add(ne.VisibilityChange,this.handleCancel),this.windowListeners.add(ne.ContextMenu,rn),this.documentListeners.add(ne.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(on(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ne.Click,ko,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ne.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:l}}=s;if(!o)return;const c=(n=It(t))!=null?n:se,u=ft(o,c);if(!r&&l){if(on(l)){if(l.tolerance!=null&&Ct(u,l.tolerance))return this.handleCancel();if(Ct(u,l.distance))return this.handleStart()}if(sn(l)&&Ct(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===I.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const To={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ht extends Xt{constructor(t){const{event:n}=t,r=Ne(n.target);super(t,To,r)}}Ht.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Lo={move:{name:"mousemove"},end:{name:"mouseup"}};var Lt;(function(e){e[e.RightClick=2]="RightClick"})(Lt||(Lt={}));class No extends Xt{constructor(t){super(t,Lo,Ne(t.event.target))}}No.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Lt.RightClick?!1:(r==null||r({event:n}),!0)}}];const Et={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Mo extends Xt{constructor(t){super(t,Et)}static setup(){return window.addEventListener(Et.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Et.move.name,t)};function t(){}}}Mo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ue;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ue||(Ue={}));var pt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pt||(pt={}));function Ao(e){let{acceleration:t,activator:n=Ue.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:l=pt.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const p=Po({delta:f,disabled:!s}),[S,g]=Xr(),b=a.useRef({x:0,y:0}),h=a.useRef({x:0,y:0}),R=a.useMemo(()=>{switch(n){case Ue.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ue.DraggableRect:return o}},[n,o,c]),v=a.useRef(null),C=a.useCallback(()=>{const w=v.current;if(!w)return;const D=b.current.x*h.current.x,x=b.current.y*h.current.y;w.scrollBy(D,x)},[]),E=a.useMemo(()=>l===pt.TreeOrder?[...u].reverse():u,[l,u]);a.useEffect(()=>{if(!s||!u.length||!R){g();return}for(const w of E){if((r==null?void 0:r(w))===!1)continue;const D=u.indexOf(w),x=d[D];if(!x)continue;const{direction:A,speed:L}=wo(w,x,R,t,m);for(const k of["x","y"])p[k][A[k]]||(L[k]=0,A[k]=0);if(L.x>0||L.y>0){g(),v.current=w,S(C,i),b.current=L,h.current=A;return}}b.current={x:0,y:0},h.current={x:0,y:0},g()},[t,C,r,g,s,i,JSON.stringify(R),JSON.stringify(p),S,u,E,d,JSON.stringify(m)])}const jo={x:{[B.Backward]:!1,[B.Forward]:!1},y:{[B.Backward]:!1,[B.Forward]:!1}};function Po(e){let{delta:t,disabled:n}=e;const r=kt(t);return Ze(o=>{if(n||!r||!o)return jo;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[B.Backward]:o.x[B.Backward]||s.x===-1,[B.Forward]:o.x[B.Forward]||s.x===1},y:{[B.Backward]:o.y[B.Backward]||s.y===-1,[B.Forward]:o.y[B.Forward]||s.y===1}}},[n,t,r])}function $o(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ze(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function Fo(e,t){return a.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var Ve;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ve||(Ve={}));var Nt;(function(e){e.Optimized="optimized"})(Nt||(Nt={}));const an=new Map;function zo(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=a.useState(null),{frequency:l,measure:c,strategy:u}=o,d=a.useRef(e),f=b(),m=We(f),p=a.useCallback(function(h){h===void 0&&(h=[]),!m.current&&i(R=>R===null?h:R.concat(h.filter(v=>!R.includes(v))))},[m]),S=a.useRef(null),g=Ze(h=>{if(f&&!n)return an;if(!h||h===an||d.current!==e||s!=null){const R=new Map;for(let v of e){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){R.set(v.id,v.rect.current);continue}const C=v.node.current,E=C?new Ut(c(C),C):null;v.rect.current=E,E&&R.set(v.id,E)}return R}return h},[e,s,n,f,c]);return a.useEffect(()=>{d.current=e},[e]),a.useEffect(()=>{f||p()},[n,f]),a.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),a.useEffect(()=>{f||typeof l!="number"||S.current!==null||(S.current=setTimeout(()=>{p(),S.current=null},l))},[l,f,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function b(){switch(u){case Ve.Always:return!1;case Ve.BeforeDragging:return n;default:return!n}}}function Ln(e,t){return Ze(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Bo(e,t){return Ln(e,t)}function Uo(e){let{callback:t,disabled:n}=e;const r=Ft(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return a.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function bt(e){let{callback:t,disabled:n}=e;const r=Ft(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return a.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Xo(e){return new Ut(Me(e),e)}function ln(e,t,n){t===void 0&&(t=Xo);const[r,o]=a.useState(null);function s(){o(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=Uo({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),l=bt({callback:s});return ce(()=>{s(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function Ho(e){const t=Ln(e);return Rn(e,t)}const cn=[];function Wo(e){const t=a.useRef(e),n=Ze(r=>e?r&&r!==cn&&e&&t.current&&e.parentNode===t.current.parentNode?r:Bt(e):cn,[e]);return a.useEffect(()=>{t.current=e},[e]),n}function Yo(e){const[t,n]=a.useState(null),r=a.useRef(e),o=a.useCallback(s=>{const i=Dt(s.target);i&&n(l=>l?(l.set(i,Tt(i)),new Map(l)):null)},[]);return a.useEffect(()=>{const s=r.current;if(e!==s){i(s);const l=e.map(c=>{const u=Dt(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Tt(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(s)};function i(l){l.forEach(c=>{const u=Dt(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),a.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>Te(s,i),se):kn(e):se,[e,t])}function un(e,t){t===void 0&&(t=[]);const n=a.useRef(null);return a.useEffect(()=>{n.current=null},t),a.useEffect(()=>{const r=e!==se;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ft(e,n.current):se}function Vo(e){a.useEffect(()=>{if(!vt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ko(e,t){return a.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function Nn(e){return a.useMemo(()=>e?bo(e):null,[e])}const dn=[];function qo(e,t){t===void 0&&(t=Me);const[n]=e,r=Nn(n?q(n):null),[o,s]=a.useState(dn);function i(){s(()=>e.length?e.map(c=>En(c)?r:new Ut(t(c),c)):dn)}const l=bt({callback:i});return ce(()=>{l==null||l.disconnect(),i(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),o}function Go(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return _e(t)?t:e}function Qo(e){let{measure:t}=e;const[n,r]=a.useState(null),o=a.useCallback(u=>{for(const{target:d}of u)if(_e(d)){r(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),s=bt({callback:o}),i=a.useCallback(u=>{const d=Go(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?t(d):null)},[t,s]),[l,c]=dt(i);return a.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const Jo=[{sensor:Ht,options:{}},{sensor:Tn,options:{}}],_o={current:{}},lt={draggable:{measure:nn},droppable:{measure:nn,strategy:Ve.WhileDragging,frequency:Nt.Optimized},dragOverlay:{measure:Me}};class Xe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Zo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ht},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lt,measureDroppableContainers:ht,windowRect:null,measuringScheduled:!1},es={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ht,draggableNodes:new Map,over:null,measureDroppableContainers:ht},xt=a.createContext(es),Mn=a.createContext(Zo);function ts(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xe}}}function ns(e,t){switch(t.type){case z.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case z.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case z.DragEnd:case z.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case z.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Xe(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case z.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Xe(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case z.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Xe(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function rs(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=a.useContext(xt),s=kt(r),i=kt(n==null?void 0:n.id);return a.useEffect(()=>{if(!t&&!r&&s&&i!=null){if(!zt(s)||document.activeElement===s.target)return;const l=o.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=Yr(d);if(f){f.focus();break}}})}},[r,t,o,i,s]),null}function os(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function ss(e){return a.useMemo(()=>({draggable:{...lt.draggable,...e==null?void 0:e.draggable},droppable:{...lt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...lt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function is(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=a.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;ce(()=>{if(!i&&!l||!t){s.current=!1;return}if(s.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Rn(d,r);if(i||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Sn(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,i,l,r,n])}const An=a.createContext({...se,scaleX:1,scaleY:1});var me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(me||(me={}));const as=a.memo(function(t){var n,r,o,s;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Jo,collisionDetection:f=co,measuring:m,modifiers:p,...S}=t;const g=a.useReducer(ns,void 0,ts),[b,h]=g,[R,v]=Jr(),[C,E]=a.useState(me.Uninitialized),w=C===me.Initialized,{draggable:{active:D,nodes:x,translate:A},droppable:{containers:L}}=b,k=D!=null?x.get(D):null,X=a.useRef({initial:null,translated:null}),$=a.useMemo(()=>{var V;return D!=null?{id:D,data:(V=k==null?void 0:k.data)!=null?V:_o,rect:X}:null},[D,k]),K=a.useRef(null),[Y,ee]=a.useState(null),[j,ye]=a.useState(null),G=We(S,Object.values(S)),we=et("DndDescribedBy",i),Re=a.useMemo(()=>L.getEnabled(),[L]),F=ss(m),{droppableRects:re,measureDroppableContainers:O,measuringScheduled:T}=zo(Re,{dragging:w,dependencies:[A.x,A.y],config:F.droppable}),N=$o(x,D),ue=a.useMemo(()=>j?It(j):null,[j]),oe=Kn(),de=Bo(N,F.draggable.measure);is({activeNode:D!=null?x.get(D):null,config:oe.layoutShiftCompensation,initialRect:de,measure:F.draggable.measure});const M=ln(N,F.draggable.measure,de),Ae=ln(N?N.parentElement:null),ie=a.useRef({activatorEvent:null,active:null,activeNode:N,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=L.getNodeFor((n=ie.current.over)==null?void 0:n.id),fe=Qo({measure:F.dragOverlay.measure}),De=(r=fe.nodeRef.current)!=null?r:N,Ce=w?(o=fe.rect)!=null?o:M:null,Yt=!!(fe.nodeRef.current&&fe.rect),Vt=Ho(Yt?null:M),mt=Nn(De?q(De):null),pe=Wo(w?Se??N:null),tt=qo(pe),nt=os(p,{transform:{x:A.x-Vt.x,y:A.y-Vt.y,scaleX:1,scaleY:1},activatorEvent:j,active:$,activeNodeRect:M,containerNodeRect:Ae,draggingNodeRect:Ce,over:ie.current.over,overlayNodeRect:fe.rect,scrollableAncestors:pe,scrollableAncestorRects:tt,windowRect:mt}),Kt=ue?Te(ue,A):null,qt=Yo(pe),Bn=un(qt),Un=un(qt,[M]),Ee=Te(nt,Bn),Oe=Ce?ho(Ce,nt):null,je=$&&Oe?f({active:$,collisionRect:Oe,droppableRects:re,droppableContainers:Re,pointerCoordinates:Kt}):null,Gt=io(je,"id"),[ge,Qt]=a.useState(null),Xn=Yt?nt:Te(nt,Un),Hn=uo(Xn,(s=ge==null?void 0:ge.rect)!=null?s:null,M),yt=a.useRef(null),Jt=a.useCallback((V,Q)=>{let{sensor:J,options:ve}=Q;if(K.current==null)return;const te=x.get(K.current);if(!te)return;const _=V.nativeEvent,ae=new J({active:K.current,activeNode:te,event:_,options:ve,context:ie,onAbort(H){if(!x.get(H))return;const{onDragAbort:le}=G.current,he={id:H};le==null||le(he),R({type:"onDragAbort",event:he})},onPending(H,be,le,he){if(!x.get(H))return;const{onDragPending:$e}=G.current,xe={id:H,constraint:be,initialCoordinates:le,offset:he};$e==null||$e(xe),R({type:"onDragPending",event:xe})},onStart(H){const be=K.current;if(be==null)return;const le=x.get(be);if(!le)return;const{onDragStart:he}=G.current,Pe={activatorEvent:_,active:{id:be,data:le.data,rect:X}};ze.unstable_batchedUpdates(()=>{he==null||he(Pe),E(me.Initializing),h({type:z.DragStart,initialCoordinates:H,active:be}),R({type:"onDragStart",event:Pe}),ee(yt.current),ye(_)})},onMove(H){h({type:z.DragMove,coordinates:H})},onEnd:ke(z.DragEnd),onCancel:ke(z.DragCancel)});yt.current=ae;function ke(H){return async function(){const{active:le,collisions:he,over:Pe,scrollAdjustedTranslate:$e}=ie.current;let xe=null;if(le&&$e){const{cancelDrop:Fe}=G.current;xe={activatorEvent:_,active:le,collisions:he,delta:$e,over:Pe},H===z.DragEnd&&typeof Fe=="function"&&await Promise.resolve(Fe(xe))&&(H=z.DragCancel)}K.current=null,ze.unstable_batchedUpdates(()=>{h({type:H}),E(me.Uninitialized),Qt(null),ee(null),ye(null),yt.current=null;const Fe=H===z.DragEnd?"onDragEnd":"onDragCancel";if(xe){const wt=G.current[Fe];wt==null||wt(xe),R({type:Fe,event:xe})}})}}},[x]),Wn=a.useCallback((V,Q)=>(J,ve)=>{const te=J.nativeEvent,_=x.get(ve);if(K.current!==null||!_||te.dndKit||te.defaultPrevented)return;const ae={active:_};V(J,Q.options,ae)===!0&&(te.dndKit={capturedBy:Q.sensor},K.current=ve,Jt(J,Q))},[x,Jt]),_t=Fo(d,Wn);Vo(d),ce(()=>{M&&C===me.Initializing&&E(me.Initialized)},[M,C]),a.useEffect(()=>{const{onDragMove:V}=G.current,{active:Q,activatorEvent:J,collisions:ve,over:te}=ie.current;if(!Q||!J)return;const _={active:Q,activatorEvent:J,collisions:ve,delta:{x:Ee.x,y:Ee.y},over:te};ze.unstable_batchedUpdates(()=>{V==null||V(_),R({type:"onDragMove",event:_})})},[Ee.x,Ee.y]),a.useEffect(()=>{const{active:V,activatorEvent:Q,collisions:J,droppableContainers:ve,scrollAdjustedTranslate:te}=ie.current;if(!V||K.current==null||!Q||!te)return;const{onDragOver:_}=G.current,ae=ve.get(Gt),ke=ae&&ae.rect.current?{id:ae.id,rect:ae.rect.current,data:ae.data,disabled:ae.disabled}:null,H={active:V,activatorEvent:Q,collisions:J,delta:{x:te.x,y:te.y},over:ke};ze.unstable_batchedUpdates(()=>{Qt(ke),_==null||_(H),R({type:"onDragOver",event:H})})},[Gt]),ce(()=>{ie.current={activatorEvent:j,active:$,activeNode:N,collisionRect:Oe,collisions:je,droppableRects:re,draggableNodes:x,draggingNode:De,draggingNodeRect:Ce,droppableContainers:L,over:ge,scrollableAncestors:pe,scrollAdjustedTranslate:Ee},X.current={initial:Ce,translated:Oe}},[$,N,je,Oe,x,De,Ce,re,L,ge,pe,Ee]),Ao({...oe,delta:A,draggingRect:Oe,pointerCoordinates:Kt,scrollableAncestors:pe,scrollableAncestorRects:tt});const Yn=a.useMemo(()=>({active:$,activeNode:N,activeNodeRect:M,activatorEvent:j,collisions:je,containerNodeRect:Ae,dragOverlay:fe,draggableNodes:x,droppableContainers:L,droppableRects:re,over:ge,measureDroppableContainers:O,scrollableAncestors:pe,scrollableAncestorRects:tt,measuringConfiguration:F,measuringScheduled:T,windowRect:mt}),[$,N,M,j,je,Ae,fe,x,L,re,ge,O,pe,tt,F,T,mt]),Vn=a.useMemo(()=>({activatorEvent:j,activators:_t,active:$,activeNodeRect:M,ariaDescribedById:{draggable:we},dispatch:h,draggableNodes:x,over:ge,measureDroppableContainers:O}),[j,_t,$,M,h,we,x,ge,O]);return U.createElement(wn.Provider,{value:v},U.createElement(xt.Provider,{value:Vn},U.createElement(Mn.Provider,{value:Yn},U.createElement(An.Provider,{value:Hn},u)),U.createElement(rs,{disabled:(l==null?void 0:l.restoreFocus)===!1})),U.createElement(eo,{...l,hiddenTextDescribedById:we}));function Kn(){const V=(Y==null?void 0:Y.autoScrollEnabled)===!1,Q=typeof c=="object"?c.enabled===!1:c===!1,J=w&&!V&&!Q;return typeof c=="object"?{...c,enabled:J}:{enabled:J}}}),ls=a.createContext(null),fn="button",cs="Draggable";function us(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=et(cs),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=a.useContext(xt),{role:p=fn,roleDescription:S="draggable",tabIndex:g=0}=o??{},b=(c==null?void 0:c.id)===t,h=a.useContext(b?An:ls),[R,v]=dt(),[C,E]=dt(),w=Ko(i,t),D=We(n);ce(()=>(f.set(t,{id:t,key:s,node:R,activatorNode:C,data:D}),()=>{const A=f.get(t);A&&A.key===s&&f.delete(t)}),[f,t]);const x=a.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&p===fn?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[r,p,g,b,S,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:x,isDragging:b,listeners:r?void 0:w,node:R,over:m,setNodeRef:v,setActivatorNodeRef:E,transform:h}}function ds(){return a.useContext(Mn)}const fs="Droppable",hs={timeout:25};function jn(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=et(fs),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=a.useContext(xt),d=a.useRef({disabled:n}),f=a.useRef(!1),m=a.useRef(null),p=a.useRef(null),{disabled:S,updateMeasurementsFor:g,timeout:b}={...hs,...o},h=We(g??r),R=a.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(h.current)?h.current:[h.current]),p.current=null},b)},[b]),v=bt({callback:R,disabled:S||!i}),C=a.useCallback((x,A)=>{v&&(A&&(v.unobserve(A),f.current=!1),x&&v.observe(x))},[v]),[E,w]=dt(C),D=We(t);return a.useEffect(()=>{!v||!E.current||(v.disconnect(),f.current=!1,v.observe(E.current))},[E,v]),a.useEffect(()=>(l({type:z.RegisterDroppable,element:{id:r,key:s,disabled:n,node:E,rect:m,data:D}}),()=>l({type:z.UnregisterDroppable,key:s,id:r})),[r]),a.useEffect(()=>{n!==d.current.disabled&&(l({type:z.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:i,rect:m,isOver:(c==null?void 0:c.id)===r,node:E,over:c,setNodeRef:w}}function Wt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ps(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function it(e){return e!==null&&e>=0}function gs(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function vs(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Pn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=Wt(t,r,n),i=t[o],l=s[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},at={scaleX:1,scaleY:1},bs=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:i}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(o===n){const u=s[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...at}:null}const c=xs(s,o,n);return o>n&&o<=i?{x:0,y:-l.height-c,...at}:o<n&&o>=i?{x:0,y:l.height+c,...at}:{x:0,y:0,...at}};function xs(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const $n="Sortable",Fn=U.createContext({activeIndex:-1,containerId:$n,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pn,disabled:{draggable:!1,droppable:!1}});function ms(e){let{children:t,id:n,items:r,strategy:o=Pn,disabled:s=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=ds(),f=et($n,n),m=l.rect!==null,p=a.useMemo(()=>r.map(w=>typeof w=="object"&&"id"in w?w.id:w),[r]),S=i!=null,g=i?p.indexOf(i.id):-1,b=u?p.indexOf(u.id):-1,h=a.useRef(p),R=!gs(p,h.current),v=b!==-1&&g===-1||R,C=vs(s);ce(()=>{R&&S&&d(p)},[R,p,S,d]),a.useEffect(()=>{h.current=p},[p]);const E=a.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:v,items:p,overIndex:b,useDragOverlay:m,sortedRects:ps(p,c),strategy:o}),[g,f,C.draggable,C.droppable,v,p,b,c,m,o]);return U.createElement(Fn.Provider,{value:E},t)}const ys=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Wt(n,r,o).indexOf(t)},ws=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==s&&o===i?!1:n?!0:i!==o&&t===c},Rs={duration:200,easing:"ease"},zn="transform",Ss=Ye.Transition.toString({property:zn,duration:0,easing:"linear"}),Ds={roleDescription:"sortable"};function Cs(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,i]=a.useState(null),l=a.useRef(n);return ce(()=>{if(!t&&n!==l.current&&r.current){const c=o.current;if(c){const u=Me(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==l.current&&(l.current=n)},[t,n,r,o]),a.useEffect(()=>{s&&i(null)},[s]),s}function Es(e){let{animateLayoutChanges:t=ws,attributes:n,disabled:r,data:o,getNewIndex:s=ys,id:i,strategy:l,resizeObserverConfig:c,transition:u=Rs}=e;const{items:d,containerId:f,activeIndex:m,disabled:p,disableTransforms:S,sortedRects:g,overIndex:b,useDragOverlay:h,strategy:R}=a.useContext(Fn),v=Os(r,p),C=d.indexOf(i),E=a.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),w=a.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:D,node:x,isOver:A,setNodeRef:L}=jn({id:i,data:E,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:k,activatorEvent:X,activeNodeRect:$,attributes:K,setNodeRef:Y,listeners:ee,isDragging:j,over:ye,setActivatorNodeRef:G,transform:we}=us({id:i,data:E,attributes:{...Ds,...n},disabled:v.draggable}),Re=Ur(L,Y),F=!!k,re=F&&!S&&it(m)&&it(b),O=!h&&j,T=O&&re?we:null,ue=re?T??(l??R)({rects:g,activeNodeRect:$,activeIndex:m,overIndex:b,index:C}):null,oe=it(m)&&it(b)?s({id:i,items:d,activeIndex:m,overIndex:b}):C,de=k==null?void 0:k.id,M=a.useRef({activeId:de,items:d,newIndex:oe,containerId:f}),Ae=d!==M.current.items,ie=t({active:k,containerId:f,isDragging:j,isSorting:F,id:i,index:C,items:d,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:u,wasDragging:M.current.activeId!=null}),Se=Cs({disabled:!ie,index:C,node:x,rect:D});return a.useEffect(()=>{F&&M.current.newIndex!==oe&&(M.current.newIndex=oe),f!==M.current.containerId&&(M.current.containerId=f),d!==M.current.items&&(M.current.items=d)},[F,oe,f,d]),a.useEffect(()=>{if(de===M.current.activeId)return;if(de&&!M.current.activeId){M.current.activeId=de;return}const De=setTimeout(()=>{M.current.activeId=de},50);return()=>clearTimeout(De)},[de]),{active:k,activeIndex:m,attributes:K,data:E,rect:D,index:C,newIndex:oe,items:d,isOver:A,isSorting:F,isDragging:j,listeners:ee,node:x,overIndex:b,over:ye,setNodeRef:Re,setActivatorNodeRef:G,setDroppableNodeRef:L,setDraggableNodeRef:Y,transform:Se??ue,transition:fe()};function fe(){if(Se||Ae&&M.current.newIndex===C)return Ss;if(!(O&&!zt(X)||!u)&&(F||ie))return Ye.Transition.toString({...u,property:zn})}}function Os(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}I.Down,I.Right,I.Up,I.Left;const ks=({columnId:e,title:t,badgeColor:n,tasks:r,emptyLabel:o,children:s})=>{const{setNodeRef:i,isOver:l}=jn({id:e});return y.jsxs(Mt.section,{ref:i,"data-column":e,layout:!0,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:`flex h-full min-h-[480px] flex-col rounded-3xl border border-slate-200/60 bg-slate-50/70 p-4 shadow-inner shadow-slate-200/40 transition dark:border-slate-700/60 dark:bg-slate-900/40 dark:shadow-slate-900/30 ${l?"border-accent-light/60 dark:border-accent-dark/60":""}`,children:[y.jsx("header",{className:"mb-4 flex items-center justify-between",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-200",children:t}),y.jsx("span",{className:`mt-1 inline-block rounded-full px-3 py-1 text-xs font-bold text-white ${n}`,children:r.length})]})}),y.jsx(ms,{id:e,items:r.map(c=>c.id),strategy:bs,children:y.jsx("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto pb-2 pr-1",children:r.length===0?y.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200/70 p-6 text-center text-xs text-slate-400 dark:border-slate-700/70 dark:text-slate-500",children:o}):s})})]})},Is={low:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200",medium:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-200",high:"bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200"},Ts=({task:e,onEdit:t,onDelete:n})=>{const{t:r}=pn(),{attributes:o,listeners:s,setNodeRef:i,transform:l,transition:c,isDragging:u}=Es({id:e.id}),d={transform:Ye.Transform.toString(l),transition:c,opacity:u?.6:1},f=a.useMemo(()=>{try{return dr(new Date(e.dueDate),"PPP")}catch{return e.dueDate}},[e.dueDate]);return y.jsxs(Mt.div,{ref:i,style:d,layout:!0,whileHover:{y:-3},...o,...s,className:"group flex flex-col gap-3 rounded-3xl border border-slate-200/70 bg-white/80 p-4 text-sm shadow-lg shadow-slate-200/50 transition hover:border-accent-light/60 hover:shadow-xl hover:shadow-accent-light/20 dark:border-slate-700/60 dark:bg-slate-900/70 dark:shadow-slate-900/50",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:e.title}),y.jsx("p",{className:"mt-1 max-h-20 overflow-hidden text-xs text-slate-500 dark:text-slate-300",children:e.description})]}),y.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${Is[e.priority]}`,children:r(`labels.priorityLevels.${e.priority}`)})]}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-300",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:r("labels.dueDate")}),y.jsx("p",{children:f})]}),y.jsxs("div",{className:"flex gap-2 opacity-0 transition group-hover:opacity-100",children:[y.jsx("button",{onClick:()=>t(e),type:"button",className:"rounded-full border border-slate-200/70 p-2 text-slate-600 transition hover:border-accent-light/60 hover:text-accent-light dark:border-slate-700/60 dark:text-slate-300 dark:hover:border-accent-dark/60 dark:hover:text-accent-dark",children:y.jsx(Fr,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>n(e),type:"button",className:"rounded-full border border-slate-200/70 p-2 text-slate-600 transition hover:border-rose-300 hover:text-rose-500 dark:border-slate-700/60 dark:text-slate-300 dark:hover:border-rose-400/70 dark:hover:text-rose-300",children:y.jsx(Br,{className:"h-4 w-4"})})]})]})]})},Ls={todo:"bg-slate-900/80 dark:bg-slate-100/30",inProgress:"bg-sky-500/80 dark:bg-sky-400/40",done:"bg-emerald-500/80 dark:bg-emerald-400/40"},Ns=({onAddTask:e,onEditTask:t,isCompact:n=!1})=>{const{columns:r,groupedTasks:o,reorderBoard:s,priorityFilter:i,setPriorityFilter:l,deleteTask:c}=cr(),{t:u}=pn(),d=no(to(Ht,{activationConstraint:{distance:8}})),[f,m]=a.useState(null),p=()=>({todo:o.todo.map(v=>v.id),inProgress:o.inProgress.map(v=>v.id),done:o.done.map(v=>v.id)}),S=v=>{const C=Object.entries(o).find(([,E])=>E.some(w=>w.id===v));return C?C[0]:null},g=v=>{const{active:C,over:E}=v;if(!E)return;const w=C.id,D=E.id;if(w===D)return;const x=S(w),A=r.map(ee=>ee.id).includes(D),L=A?D:S(D);if(!x||!L)return;const k=p(),X=[...k[x]],$=x===L?X:[...k[L]],K=X.indexOf(w);let Y;if(A?(Y=x===L?$.length-1:$.length,Y<0&&(Y=0)):(Y=$.indexOf(D),Y===-1&&(Y=$.length)),x===L){const ee=Wt($,K,Y);s({...k,[L]:ee})}else{const ee=X.filter(G=>G!==w),j=[...$];j.includes(w)&&j.splice(j.indexOf(w),1),j.splice(Y,0,w),s({...k,[x]:ee,[L]:j})}},b=()=>{f&&(c(f.id),m(null))},h=a.useMemo(()=>[{value:"all",label:u("labels.all")},{value:"low",label:u("labels.priorityLevels.low")},{value:"medium",label:u("labels.priorityLevels.medium")},{value:"high",label:u("labels.priorityLevels.high")}],[u]),R=h.find(v=>v.value===i)??h[0];return y.jsxs("div",{className:"flex h-full flex-col gap-6",children:[y.jsxs("div",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200/60 bg-white/60 p-5 shadow-lg shadow-slate-200/50 backdrop-blur-xl dark:border-slate-700/60 dark:bg-slate-900/60 dark:shadow-slate-900/50 md:flex-row md:items-center md:justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:u("navigation.home")}),n?null:y.jsxs("div",{className:"space-y-1 text-sm text-slate-500 dark:text-slate-300",children:[y.jsx("p",{children:u("messages.welcome")}),y.jsx("p",{children:u("pages.home.focus")})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsx(st,{value:i,onChange:l,children:y.jsxs("div",{className:"relative",children:[y.jsxs(st.Button,{className:"flex items-center gap-3 rounded-full bg-gradient-to-r from-white/95 via-white/80 to-white/70 px-4 py-2 text-sm font-semibold text-slate-700 shadow-lg shadow-slate-200/40 ring-1 ring-white/30 transition hover:ring-white/60 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-light/50 dark:from-slate-800/80 dark:via-slate-800/70 dark:to-slate-900/70 dark:text-slate-100 dark:ring-slate-700/50 dark:hover:ring-slate-500/60 dark:focus-visible:ring-accent-dark/50",children:[y.jsx(Pr,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"}),y.jsx("span",{children:R.label}),y.jsx(ur,{className:"h-4 w-4 text-slate-300 dark:text-slate-500"})]}),y.jsx(rt,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:y.jsx(st.Options,{className:"absolute right-0 z-20 mt-2 w-48 origin-top-right rounded-2xl border border-slate-200/60 bg-white/95 p-2 text-sm shadow-2xl shadow-slate-900/20 backdrop-blur-xl focus:outline-none dark:border-slate-700/60 dark:bg-slate-900/90",children:h.map(v=>y.jsx(st.Option,{value:v.value,className:({active:C})=>["flex w-full items-center gap-2 rounded-xl px-3 py-2 transition",C||i===v.value?"bg-accent-light/15 text-accent-light dark:bg-accent-dark/20 dark:text-accent-dark":"text-slate-600 dark:text-slate-200"].join(" "),children:v.label},v.value))})})]})}),y.jsx(Mt.button,{whileTap:{scale:.96},type:"button",onClick:e,className:"rounded-full border border-transparent bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-900/40 transition hover:bg-slate-700 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:u("buttons.add")})]})]}),y.jsx(as,{sensors:d,collisionDetection:ao,onDragEnd:g,children:y.jsx("div",{className:"grid flex-1 gap-4 md:grid-cols-3",children:r.map(v=>y.jsx(ks,{columnId:v.id,title:u(v.translationKey),badgeColor:Ls[v.id],tasks:o[v.id],emptyLabel:u("board.empty"),children:o[v.id].map(C=>y.jsx(Ts,{task:C,onEdit:E=>t(E),onDelete:E=>m(E)},C.id))},v.id))})}),y.jsx(rt,{show:!!f,as:a.Fragment,children:y.jsxs(ot,{as:"div",className:"relative z-50",onClose:()=>m(null),children:[y.jsx(rt.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm"})}),y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",children:y.jsx(rt.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-90",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-90",children:y.jsxs(ot.Panel,{className:"glass-panel w-full max-w-md rounded-3xl p-6",children:[y.jsx(ot.Title,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:u("modal.confirmDelete")}),y.jsx(ot.Description,{className:"mt-2 text-sm text-slate-500 dark:text-slate-300",children:f==null?void 0:f.title}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:()=>m(null),className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-500 transition hover:border-slate-300 hover:text-slate-700 dark:border-slate-700 dark:text-slate-300 dark:hover:border-slate-600",children:u("buttons.cancel")}),y.jsx("button",{onClick:b,className:"rounded-xl bg-rose-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/30 transition hover:bg-rose-600",children:u("buttons.delete")})]})]})})})]})})]})},js=({onAddTask:e,onEditTask:t,isCompact:n})=>y.jsx("section",{className:"h-full",children:y.jsx(Ns,{onAddTask:e,onEditTask:t,isCompact:n})});export{js as default};
